### 函数栈帧的创建与销毁  
#### 0 前言  
在学习编程语言的过程当中，函数是我们绕不开的一个话题，它通过复用帮助我们节省很多的代码，是一个非常好的模块。但是我们可能常常只知道它的表层使用炫酷，对于它的底层部分我们是否了解呢？今天就让我们走进函数栈帧的世界，揭开它那神秘的面纱。
#### 1 举一个加法函数栗子
```
#include<stdio.h>
int add(int a,int b)
{ 
  int sum=a+b;
  return sum;
}
int main()
{
  int a=10,b=20;
  int c=0;
  c=add(a,b);
  printf("a+b=%d",c);
  return 0;
}
```
#### 2 汇编语言解析
![函数栈帧](https://github.com/Lp700750/Blogs/assets/104414865/07f2c188-4ef9-446c-8ab1-091230643120)  
上面图片展示的是汇编语言代码每一步明细，一般我们程序的入口都是从主函数开始进入，每一个主函数最初都是由_Tmain()函数开辟函数栈帧，如上面的汇编语言所示  
这里我们先来介绍一下两个主要用来维护函数栈帧的寄存器esp与ebp,一般来说esp维护栈顶，ebp维护栈底 
接着上面来说，首先是将ebp进行压栈，然后将esp的值传给ebp，然后再将esp减去某一定值，这里就相当于是给main函数开辟了一段空间。这时再压栈ebx,esi,edi
![image](https://github.com/Lp700750/Blogs/assets/104414865/cfcb2dfa-8bb4-4d2e-85da-adc33fcef402) 
这里的作用就相当于是将刚刚开辟的一段空间全部赋值  
![image](https://github.com/Lp700750/Blogs/assets/104414865/ffcee262-62de-4bf1-8332-f5c1e02a096d) 
上面


