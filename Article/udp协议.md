# udp协议
### 1UDP协议的特征
无连接：知道对端的端口号和IP地址就直接进行传输，不需要建立连接(有点类似于我们常见的邮箱发送的方式)
不可靠(中性词)：他只管将数据传送给对端，数据是否被接收，是否被遗漏他都不关心，不会返回错误信息(没有确认机制，没有重传机制)
面向数据报：对数据全部接收，照样发送，不能够灵活的控制读写数据得到次数和数量
##### 面向数据报的解释：
用UDP传输100个字节的数据，如果发送端调用一次sendto发送100个字节的数据，那么接受端就要调用一次recvfrom接收100个字节的，不能够循环调用10次sendto来发送10字节的数据，不能够拆分也不会进行合并。
### 2UDP协议的报头
>![image](https://github.com/Lp700750/Blogs/assets/104414865/02969e10-072f-44c1-99e3-1709e7e3715e)
如果检测和出错，就会直接丢弃
16位UDP长度：表示整个数据报(UDP首部和UDP数据)的最大长度
对于网络当中的每一层协议，我们都要思考两个问题
1.如何做到数据和报头的有效分离？
UDP报头是定长的8字节，可以将报头分离。报头的16位UDP长度减去8字节，就是数据长度。
2.如何做到向上交付？
传输层向上交付，交付给应用层，实际是交付给应用层的某个进程，UDP当中的目的端口号就是确认向上交付给应用层的哪个进程。
### 3UDP缓冲区的理解
UDP没有真正意义上的发送缓冲区，调用sendto直接将数据交给内核，由内核将数据传给网络层。
UDP有接收缓冲区，但是这个缓冲区不能保证收到的UDP数据报顺序和发送UDP数据报的顺序一致，如果接收缓冲区满了，再到达UDP的数据会被直接丢弃，丢弃之后也不管了。
顺序接收也是可靠性的一种。
数据发送是一次性发送多条数据，发送数据的顺序和接收数据的顺序不一定一致，因为可能选择的网络路径不同。
UDP是一种无连接的协议，它可以在两台计算机之间进行数据传输。UDP 不像 TCP 那样提供可靠的数据传输机制，但是它具有更快的传输速度和更少的开销。
UDP 是全双工通信协议，这意味着它可以同时收发数据。它允许两台计算机在同一时间内进行双向通信。
