# 进程终止
#### 进程退出

**1.进程的创建和退出**

- 创建进程->在内存当中加载代码和数据，OS会自动创建PCB，进程地址空间，页表和映射关系
- 退出进程->free掉代码和数据，free掉PCB和进程地址空间，页表和映射关系

**2.进程退出的三种状态**

- 程序正常退出(退出码为0)
- 程序非正常退出(退出码会非0)
- 程序异常终止(程序崩溃，退出码已经不重要了)

**3.三种退出方式**

- return退出
  - 当在main函数当中的时候，return 0就代表正常退出，非0就代表非正常退出
  - 当不在main函数当中时，return 代表返回值(不做退出考虑)

- exit退出
  - exit(参数)不管是在main函数还是不在main函数，都是表示退出的意思，其中参数表示退出码

- _exit退出
  - _exit(参数)不管是在main函数还是不在main函数，都是表示退出的意思，其中参数表示退出码

- 三个退出方式之间的关系
  - 当return做退出的时候和exit的一样都有刷新缓冲区的功能，但是_exit没有刷新缓冲区的功能
  - _exit虽然不执行刷新函数，但是还是执行清理函数
  - return n和exit(n)的执行效果是一样的，在底层return n会将n作为main函数的退出码传递给exit(),然后exit(n)将执行程序终止

**输出所有的程序退出码**
```C++
#include<stdio.h>
#include<string.h>
int main()
{
    int sum=140;
    for(int i=0;i<sum;++i)
    {
        printf("%d:%s\n",i,strerror(i));
	}
    return 0;
}
```
