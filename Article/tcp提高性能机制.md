# tcp提高性能机制
### 1 滑动窗口
> ![image](https://github.com/Lp700750/Blogs/assets/104414865/546d1d39-4d91-455b-8690-ec93fcac1200)
> - 滑动窗口的大小不是一个固定的值，而是一个动态变化的值
> - 滑动窗口的本质其实是两个指针，分别指向滑动窗口的前后两部分
> - 当滑动窗口左边的数据收到了来自接收端发来的ACK确认，那么滑动窗口的左边指针就会进行右移
> - 当接收端的16位窗口大小不足或者太小的时候，那么滑动窗口的右指针就会移动很慢，或者干脆直接不移
> - 当发送端收到来自接收端发来的某个序号的ACK时候，代表这个序号前面所有的数据都已经被接收端收到，哪怕目前还没有收前面数据的确认序号
> - 当滑动窗口里面的某一个序号的数据丢失，其余的序号数据没有丢失，那么丢失数据及其后面的所有确认序号都将收不到，只有发送端会经过超时重传之后，这个丢失数据的序号被接收端确认收到之后，这个数据及其后面的数据确认序号才会被发送出来
### 2 快速重传
>连续收到3次相同确认序号的应答，直接重发数据的机制是高速重发机制，也叫快重发。
>- 与超时重传机制的区别：
>- 超时重发是在没有收到响应后的一段时间才会重发数据。(基础，常常使用)
>- 而快重传是在短时间内快速的发送报文，以达到某种反响的结果(偶尔使用)
>- 当发送报文数小于3时，快重发不起效。
### 3 延迟应答
> - 延迟应答主要使用在接收端的缓冲区当中，如果接收端的缓冲区不足(发送端发送数据的速率将会大大降低)，这时如果接收端缓冲区的发送ACK应答较快，此时多次发送的16位窗口大小中值就会比较的小，这就会影响发送端的发送速率，但是如果接收端缓冲区延迟发送ACK，这时如果应用层将接收端缓冲区中的内容拿走，那么接收端缓冲区的可用空间变大，那么发送端的发送数据的速率将会变快，有利于提高TCP传输数据的效率
### 4 捎带应答
> - 捎带应答，顾名思义就是在发送某种报文的时候，顺带也发一下其他的信息，最经典的栗子就是在三次握手的时候，第二次握手发送的数据当中接收端除了发送ACK确认报文同时，还捎带发送了SYN连接报文。
