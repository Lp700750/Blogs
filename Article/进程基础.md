# 进程基础

## 结构框图

![进程基础 drawio](https://github.com/Lp700750/Blogs/assets/104414865/cf0e6c24-f129-46e7-aba2-9a67856a3671)


## 0 前言

>计算机作为一种集合产物，聚集了软件与硬件，但可以知道，这两者之间是”不兼容“的，因此该怎样将这两者联合起来进行工作呢？这里就需要操作系统了，作为一种承上启下的管理软件，操作系统来管理着计算机这里面“各种信息”传递任务，这里的任务可以使用更加专业的术语，那就是进程。

### 1 进程的概念

>- 进程是具有独立功能的程序在一个数据集合上运行的过程
>- 它是系统进行资源分配和调度的独立单元

### 2 进程的内部

>上面对于进程的描述，看起来很高深莫测的样子，其实在底层就是一个结构体，该结构体来描述该进程任务，所有运行在系统里面的进程都以链表的形式存在链接，同时该进程内部含有一些通用的东西如下：
>
>- 标示符:描述本进程的唯一-标示符， 用来区别其他进程。
>- 状态:任务状态,退出代码，退出信号等。
>- 优先级:相对于其他进程的优先级。
>- 程序计数器:程序中即将被执行的下一 条指令的地址。
>- 内存指针:包括程序代码和进程相关数据的指针，还有和其他进程共享的内存块的指针
>- 上下文数据:进程执行时处理器的寄存器中的数据[休学例子，要加图CPU,寄存器]。
>- 1/ 0状态信息:包括显示的I/O请求,分配给进程的I / O设备和被进程使用的文件列表。
>- 记账信息:可能包括处理器时间总和，使用的时钟数总和，时间限制，记账号等。
>- 其他信息

### 3 进程的状态

>一个进程在系统里面不同的时刻可能会有不同的状态，系统通过这些状态，来安排该进程的下一步动向，它通常会有如下的状态
>
>- R运行状态(running) :并不意味着进程一 定在运行中，它表明进程要么是在运行中要么在运行队列.里。
>- S睡眠状态(sleeping): 意味着进程在等待事件完成(这里的睡眠有时候也叫做可中断睡眠(interruptible sleep) )。
>- D磁盘休眠状态(Disk sleep) 有时候也叫不可中断睡眠状态(uninterruptible sleep) ，在这个状态的进程通常会等待IO的结束。
>- T停止状态(stopped) :可以通过发送SIGSTOP信号给进程来停止(T) 进程。这个被暂停的进程可以通过发送SIGCONT信号让进程继续运行。
>- X死亡状态(dead) :这个状态只是一个返回状态，你不会在任务列表里看到这个状态。
>
>这里面还需要特别注意进程还可能会存在的两种状态**僵尸进程与孤儿进程**
>
>##### 僵尸进程(强调子进程退出时，父进程没有进行等待)
>
>##### 孤儿进程(强调父进程比子进程先退出)
>
>##### 僵尸进程的危害
>
>- 维护退出状态本身就是要用数据维护，也属于进程基本信息，所以保存在task_ struct(PCB)中，换句话说，z状态如果一直不退出，PCB一直都要维护，如果一个父进程创建了很多子进程，就是不回收,就会造成内存资源的浪费?数据结构对象本身就要占用内存。

### 4 进程的优先级

>- cpu资源分配的先后顺序，就是指进程的优先权(priority) 。
>- 优先权高的进程有优先执行权利。配置进程优先权对多任务环境的linux很有用，可以改善系统性能。
>- 还可以把进程运行到指定的CPU上,这样一来, 把不重要的进程安排到某个CPU，可以大大改善系统整体性能。
